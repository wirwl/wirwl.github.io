!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=13)}([function(e,t,i){},function(e,t,i){const s=i(2);s.keys().forEach(s)},function(e,t,i){var s={"./android-chrome-192x192.png":3,"./android-chrome-512x512.png":4,"./apple-touch-icon.png":5,"./browserconfig.xml":6,"./favicon-16x16.png":7,"./favicon-32x32.png":8,"./favicon.ico":9,"./mstile-150x150.png":10,"./safari-pinned-tab.svg":11,"./site.webmanifest":12};function n(e){var t=a(e);return i(t)}function a(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=a,e.exports=n,n.id=2},function(e,t,i){"use strict";i.r(t),t.default=i.p+"android-chrome-192x192.png"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"android-chrome-512x512.png"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"apple-touch-icon.png"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"browserconfig.xml"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"favicon-16x16.png"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"favicon-32x32.png"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"favicon.ico"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"mstile-150x150.png"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"safari-pinned-tab.svg"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"site.webmanifest"},function(e,t,i){"use strict";i.r(t);i(0),i(1);class s{constructor(e){this.CLASSES={modNotUsing:"select-items_not-using",modRemoveDisabled:"select-items__button-remove_disabled"},this.$selectItems=$(e),this.$buttonAdd=this.$selectItems.find(".js-select-items__button-add"),this.$buttonRemove=this.$selectItems.find(".js-select-items__button-remove"),this.$select=this.$selectItems.find(".js-select-items__options"),this.select=document.querySelector(".js-select-items__options"),this.bindThis(),this.addEventListeners()}bindThis(){this.handleButtonAddClick=this.handleButtonAddClick.bind(this),this.handleButtonRemoveClick=this.handleButtonRemoveClick.bind(this)}addEventListeners(){this.$buttonAdd.on("click.buttonAdd",this.handleButtonAddClick),this.$buttonRemove.on("click.buttonRemove",this.handleButtonRemoveClick)}handleButtonAddClick(){var e;const t=Math.random(),i=parseInt((1e3*t).toString(),10).toString(),s=prompt("Введите новый объект",i);s&&this.$select.append(new Option(s));const n=(null===(e=this.select)||void 0===e?void 0:e.length)||-1;n>1?this.$selectItems.removeClass(this.CLASSES.modNotUsing):this.$selectItems.addClass(this.CLASSES.modNotUsing),n>0&&(this.$buttonRemove.prop("disabled",!1),this.$buttonRemove.removeClass(this.CLASSES.modRemoveDisabled))}handleButtonRemoveClick(){var e;this.$select.find("option:selected").remove();const t=(null===(e=this.select)||void 0===e?void 0:e.length)||-1;t>1?this.$selectItems.removeClass(this.CLASSES.modNotUsing):this.$selectItems.addClass(this.CLASSES.modNotUsing),0===t&&(this.$buttonRemove.prop("disabled",!0),this.$buttonRemove.addClass(this.CLASSES.modRemoveDisabled))}}class n{constructor(e){this.CLASSES={modIsVertical:"panel_is-vertical"},this.$panel=$(e),this.initMembers(),this.bindThis(),this.addEventListeners(),this.updatePanelValues()}bindThis(){this.handleIsVerticalChange=this.handleIsVerticalChange.bind(this),this.handleIsTwoHandlesChange=this.handleIsTwoHandlesChange.bind(this),this.handleIsShowTipsChange=this.handleIsShowTipsChange.bind(this),this.handleMinValueInput=this.handleMinValueInput.bind(this),this.handleMaxValueInput=this.handleMaxValueInput.bind(this),this.handleValueFromInput=this.handleValueFromInput.bind(this),this.handleValueToInput=this.handleValueToInput.bind(this),this.handleIndexFromInput=this.handleIndexFromInput.bind(this),this.handleIndexToInput=this.handleIndexToInput.bind(this),this.handleStepValueInput=this.handleStepValueInput.bind(this),this.handleInputsFocusout=this.handleInputsFocusout.bind(this),this.handleButtonAddClick=this.handleButtonAddClick.bind(this),this.handleButtonRemoveClick=this.handleButtonRemoveClick.bind(this)}initMembers(){this.$inputs=this.$panel.find("input"),this.$minValue=this.$panel.find(".js-panel__input-min-value").find(".js-input__field"),this.$maxValue=this.$panel.find(".js-panel__input-max-value").find(".js-input__field"),this.$stepValue=this.$panel.find(".js-panel__input-step-value").find(".js-input__field"),this.$valueFrom=this.$panel.find(".js-panel__input-value-from").find(".js-input__field"),this.$valueTo=this.$panel.find(".js-panel__input-value-to").find(".js-input__field"),this.$indexFrom=this.$panel.find(".js-panel__input-index-from").find(".js-input__field"),this.$indexTo=this.$panel.find(".js-panel__input-index-to").find(".js-input__field"),this.$buttonAdd=this.$panel.find(".js-select-items").find(".js-select-items__button-add"),this.$buttonRemove=this.$panel.find(".js-select-items").find(".js-select-items__button-remove"),this.$select=this.$panel.find(".js-select-items").find(".js-select-items__options"),this.select=this.$select[0],this.$rangesliderRootElement=this.$panel.find(".toxin-rangeslider-here"),this.rangeslider=this.$rangesliderRootElement.data("toxinRangeSlider"),this.$isVertical=this.$panel.find(".js-panel__checkbox-is-vertical").find(".checkbox__input"),this.$isTwoHandles=this.$panel.find(".js-panel__checkbox-is-two-handles").find(".checkbox__input"),this.$isShowTips=this.$panel.find(".js-panel__checkbox-is-tip").find(".checkbox__input")}addEventListeners(){const e=this.$valueFrom,t=this.$valueTo,i=this.$indexFrom,s=this.$indexTo;this.rangeslider.setState({onHandlePositionChange(n){const{isFromHandle:a,relValue:l}=n,o=this.items.values.length>1;a?(e.val(l),o&&i.val(this.items.indexFrom)):(t.val(l),o&&s.val(this.items.indexTo))}}),this.$isVertical.on("change.isVertical",this.handleIsVerticalChange),this.$isTwoHandles.on("change.isTwoHandles",this.handleIsTwoHandlesChange),this.$isShowTips.on("change.isShowTips",this.handleIsShowTipsChange),this.$minValue.on("input.minValue",this.handleMinValueInput),this.$maxValue.on("input.maxValue",this.handleMaxValueInput),this.$valueFrom.on("input.valueFrom",this.handleValueFromInput),this.$valueTo.on("input.valueTo",this.handleValueToInput),this.$indexFrom.on("input.indexFrom",this.handleIndexFromInput),this.$indexTo.on("input.indexTo",this.handleIndexToInput),this.$stepValue.on("input.stepValue",this.handleStepValueInput),this.$stepValue.keypress(this.preventMinusTyping),this.$indexFrom.keypress(this.preventMinusTyping),this.$indexTo.keypress(this.preventMinusTyping),this.$inputs.on("focusout.inputs",this.handleInputsFocusout),this.$buttonAdd.on("click.buttonAdd",this.handleButtonAddClick),this.$buttonRemove.on("click.buttonRemove",this.handleButtonRemoveClick)}handleInputsFocusout(e){var t;const{items:i,items:{values:s},minValue:n,maxValue:a,valueFrom:l,valueTo:o,stepValue:h}=this.rangeslider.getState(),u=s.length>1,r=$(e.target);r.parent().parent().hasClass("js-panel__input-min-value")&&r.val(u?s[0]:n),r.parent().parent().hasClass("js-panel__input-max-value")&&r.val(u?s[(null===(t=i.values)||void 0===t?void 0:t.length)-1]:a),r.parent().parent().hasClass("js-panel__input-step-value")&&r.val(h),r.parent().parent().hasClass("js-panel__input-value-from")&&r.val(l),r.parent().parent().hasClass("js-panel__input-value-to")&&r.val(o),r.parent().parent().hasClass("js-panel__input-index-from")&&r.val(i.indexFrom),r.parent().parent().hasClass("js-panel__input-index-to")&&r.val(i.indexTo)}handleStepValueInput(e){const t=e.target;if(t.value.length){parseInt(t.value,10)<1&&(t.value="1"),this.isStepValid()||(t.value=this.getRangeLength().toString()),this.rangeslider.setState({stepValue:parseInt(t.value,10)})}}handleButtonRemoveClick(){const e=this.$select.find("option"),t=!!this.select&&this.select.length>1;this.$minValue.prop("disabled",t),this.$maxValue.prop("disabled",t),this.$stepValue.prop("disabled",t);const i=[];e.each((e,t)=>{i.push(t)});const s=$.map(i,e=>e.value);this.rangeslider.setState({items:{values:s}}),this.updatePanelValues()}handleButtonAddClick(){const e=this.$select.find("option"),t=!!this.select&&this.select.length>1;this.$minValue.prop("disabled",t),this.$maxValue.prop("disabled",t),this.$stepValue.prop("disabled",t);const i=[];e.each((e,t)=>{i.push(t)});const s=$.map(i,e=>e.value);this.rangeslider.setState({items:{values:s}}),this.updatePanelValues()}handleIndexFromInput(e){const{valueFrom:t}=this.rangeslider.getState(),i=e.target;if(i.value.length){const e=parseInt(i.value,10),s=parseInt(String(this.$indexTo.val()),10);e>s&&(i.value=s.toString()),this.rangeslider.setState({items:{indexFrom:parseInt(i.value,10)}}),this.$valueFrom.val(t)}}handleIndexToInput(e){const{items:{values:t},valueTo:i}=this.rangeslider.getState(),s=e.target;if(s.value.length){const e=t.length-1,n=parseInt(String(this.$indexFrom.val()),10),a=parseInt(s.value,10);a<n&&(s.value=n.toString()),a>e&&(s.value=e.toString()),this.rangeslider.setState({items:{indexTo:parseInt(s.value,10)}}),this.$valueTo.val(i)}}findIndexByItem(e,t){return e.findIndex(e=>e.toString()===t.toString())}handleValueFromInput(e){const{items:{values:t}}=this.rangeslider.getState(),i=e.target;if(t.length>1){const e=this.findIndexByItem(t,i.value);if(-1===e)return;this.rangeslider.setState({items:{indexFrom:e}}),this.$indexFrom.val(e)}else{if(Number.isNaN(Number(i.value)))return;this.rangeslider.setState({valueFrom:Number(i.value)})}}handleValueToInput(e){const{isTwoHandles:t,items:{values:i}}=this.rangeslider.getState(),s=e.target;if(i.length>1){const e=this.findIndexByItem(i,s.value);if(-1===e)return;this.rangeslider.setState({items:{indexTo:e}}),this.$indexTo.val(e)}else{if(Number.isNaN(Number(s.value)))return;let e=Number(s.value);if(t){const t=Number(this.$valueFrom.val());e<t&&(e=t)}this.rangeslider.setState({valueTo:e})}}handleMinValueInput(e){const{isTwoHandles:t}=this.rangeslider.getState(),i=e.target;let s=parseInt(i.value,10);if(!Number.isNaN(s)){i.value=s.toString();const e=parseInt(String(this.$maxValue.val()),10);s>=e&&(i.value=(e-1).toString(),s=parseInt(i.value,10));const n=parseInt(String(this.$valueTo.val()),10),a=parseInt(String(this.$valueFrom.val()),10);n<s&&this.$valueTo.val(s),t&&a<s&&this.$valueFrom.val(i.value),this.isStepValid()||this.$stepValue.val(this.getRangeLength().toString()),this.rangeslider.setState({minValue:i.value,valueFrom:Number(this.$valueFrom.val()),valueTo:Number(this.$valueTo.val())})}}handleMaxValueInput(e){const{isTwoHandles:t}=this.rangeslider.getState(),i=e.target;let s=parseInt(i.value,10);if(!Number.isNaN(s)){i.value=s.toString();const e=parseInt(String(this.$minValue.val()),10);s<=e&&(i.value=(e+1).toString(),s=parseInt(i.value,10));const n=parseInt(String(this.$valueTo.val()),10),a=parseInt(String(this.$valueFrom.val()),10);n>s&&this.$valueTo.val(s),t&&a>s&&this.$valueFrom.val(e),this.isStepValid()||this.$stepValue.val(this.getRangeLength().toString()),this.rangeslider.setState({maxValue:i.value,valueFrom:Number(this.$valueFrom.val()),valueTo:Number(this.$valueTo.val())})}}handleIsShowTipsChange(e){const t=e.target;this.rangeslider.setState({isTip:t.checked})}updatePanelValues(){const{items:e,items:{values:t,indexFrom:i,indexTo:s},isVertical:n,isTwoHandles:a,isTip:l,minValue:o,maxValue:h,valueFrom:u,valueTo:r,stepValue:d}=this.rangeslider.getState(),p=t.length>1;this.$isVertical.prop("checked",n),this.$isTwoHandles.prop("checked",a),this.$isShowTips.prop("checked",l),this.$minValue.val(p?e.values[0]:o),this.$maxValue.val(p?t[t.length-1]:h),a&&this.$valueFrom.val(u),this.$valueTo.val(r),this.select&&this.select.length>1?(a&&(this.$indexFrom.prop("disabled",!1),this.$indexFrom.val(i)),this.$indexTo.prop("disabled",!1),this.$indexTo.val(s)):(this.$indexFrom.prop("disabled",!0),this.$indexTo.prop("disabled",!0)),this.$stepValue.val(d)}getRangeLength(){return Number(this.$maxValue.val())-Number(this.$minValue.val())}isStepValid(){return Number(this.$stepValue.val())<this.getRangeLength()}preventMinusTyping(e){"-"===e.key&&e.preventDefault()}handleIsVerticalChange(e){const t=e.target;t.checked?this.$panel.addClass(this.CLASSES.modIsVertical):this.$panel.removeClass(this.CLASSES.modIsVertical),this.rangeslider.setState({isVertical:t.checked})}handleIsTwoHandlesChange(e){const{items:{values:t}}=this.rangeslider.getState(),i=e.target;this.rangeslider.setState({isTwoHandles:i.checked});const s=t.length>1;if(i.checked){if(this.$valueFrom.prop("disabled",!1),s&&this.$indexFrom.prop("disabled",!1),!s){const e=parseInt(String(this.$minValue.val()),10),t=parseInt(String(this.$maxValue.val()),10);let i=parseInt(String(this.$valueFrom.val()),10);Number.isNaN(Number(i))&&(i=e);const s=parseInt(String(this.$valueTo.val()),10);(i<e||i>s||i>t)&&(i=e),this.rangeslider.setState({valueFrom:i})}}else this.$valueFrom.prop("disabled",!0),s&&this.$indexFrom.prop("disabled",!0);this.updatePanelValues()}}$(".js-select-items").each((e,t)=>{new s(t)});$(".panel").each((e,t)=>{new n(t)})}]);